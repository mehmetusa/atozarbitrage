(()=>{var a={};a.id=6953,a.ids=[636,3220,6953],a.modules={361:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1242:a=>{"use strict";a.exports=require("redux-persist/integration/react")},2015:a=>{"use strict";a.exports=require("react")},2326:a=>{"use strict";a.exports=require("react-dom")},2541:a=>{"use strict";a.exports=require("redux-persist/lib/storage")},2898:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{A:()=>l});var e=c(8732),f=c(6761),g=c.n(f),h=c(3220),i=c(8136),j=c.n(i),k=a([h]);function l({message:a="Loading..."}){return(0,e.jsxs)("div",{className:j().wrapper,children:[(0,e.jsx)(h.motion.div,{animate:{rotate:360},transition:{repeat:1/0,duration:4,ease:"linear"},className:j().ring,children:(0,e.jsx)(g(),{src:"/img/Amazon-outer.png",alt:"Amazon Arbirtage Ring",fill:!0,className:j().ringImg})}),(0,e.jsx)("div",{className:j().inner,children:(0,e.jsx)(g(),{src:"/img/Amazon-inner.png",alt:"Baker",fill:!0,className:j().innerImg})}),(0,e.jsx)("p",{className:j().message,children:a})]})}h=(k.then?(await k)():k)[0],d()}catch(a){d(a)}})},3220:a=>{"use strict";a.exports=import("framer-motion")},3787:a=>{"use strict";a.exports=require("redux-persist")},3873:a=>{"use strict";a.exports=require("path")},4062:a=>{"use strict";a.exports=import("react-redux")},4075:a=>{"use strict";a.exports=require("zlib")},4722:a=>{"use strict";a.exports=require("next-auth/react")},4959:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>r,default:()=>n,getServerSideProps:()=>q,getStaticPaths:()=>p,getStaticProps:()=>o,handler:()=>z,reportWebVitals:()=>s,routeModule:()=>y,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>x,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>u,unstable_getStaticProps:()=>t});var e=c(3885),f=c(237),g=c(1413),h=c(3317),i=c.n(h),j=c(6095),k=c(7160),l=c(2289),m=a([j,k]);[j,k]=m.then?(await m)():m;let n=(0,g.M)(k,"default"),o=(0,g.M)(k,"getStaticProps"),p=(0,g.M)(k,"getStaticPaths"),q=(0,g.M)(k,"getServerSideProps"),r=(0,g.M)(k,"config"),s=(0,g.M)(k,"reportWebVitals"),t=(0,g.M)(k,"unstable_getStaticProps"),u=(0,g.M)(k,"unstable_getStaticPaths"),v=(0,g.M)(k,"unstable_getStaticParams"),w=(0,g.M)(k,"unstable_getServerProps"),x=(0,g.M)(k,"unstable_getServerSideProps"),y=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/success",pathname:"/success",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:j.default,Document:i()},userland:k}),z=(0,l.U)({srcPage:"/success",config:r,userland:k,routeModule:y,getStaticPaths:p,getStaticProps:o,getServerSideProps:q});d()}catch(a){d(a)}})},6060:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},6356:a=>{a.exports={container:"Success_container__Xul48",title:"Success_title__mdzgL",greeting:"Success_greeting__tCXgW",logoContact:"Success_logoContact__sSMcj",card:"Success_card__s1SMH",summaryRow:"Success_summaryRow__l_NXB",total:"Success_total___6WQn",itemsList:"Success_itemsList__ZBv9R",deliveryInfo:"Success_deliveryInfo__Y3WJO",error:"Success_error__BgKnW"}},6401:a=>{"use strict";a.exports=require("next-seo")},7160:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>n});var e=c(8732),f=c(2015),g=c(4233),h=c(4062),i=c(6091),j=c(2898),k=c(6356),l=c.n(k),m=a([h,i,j]);function n(){let{session_id:a}=(0,g.useRouter)().query;(0,h.useDispatch)();let[b,c]=(0,f.useState)(null),[d,i]=(0,f.useState)(!0),[k,m]=(0,f.useState)("");if(d)return(0,e.jsx)(j.A,{message:"Verifying payment and saving order..."});if(k)return(0,e.jsxs)("h1",{className:l().error,children:["Error: ",k]});let n=b.subtotal??0,o=b.tax??0,p=b.shippingFee??0,q=b.discount??0,r=n+o+p-q,s=b.deliveryDate?new Date(b.deliveryDate).toLocaleDateString():"N/A",t=b.deliverySlot??"N/A";return(0,e.jsxs)("div",{className:l().container,children:[(0,e.jsx)("h1",{className:l().title,children:"Payment Successful!"}),(0,e.jsx)("img",{className:l().logoContact,src:"/img/Amazon.png",alt:"Logo"}),(0,e.jsxs)("p",{className:l().greeting,children:["Thank you, ",b.customer?.name||"Guest",". Your order has been saved."]}),(0,e.jsxs)("div",{className:l().card,children:[(0,e.jsx)("h2",{children:"Order Summary"}),(0,e.jsxs)("div",{className:l().summaryRow,children:[(0,e.jsx)("span",{children:"Order ID:"}),(0,e.jsx)("span",{children:b.displayId||b._id})]}),(0,e.jsxs)("div",{className:l().summaryRow,children:[(0,e.jsx)("span",{children:"Subtotal:"}),(0,e.jsxs)("span",{children:["$",n.toFixed(2)]})]}),b.discount&&(0,e.jsxs)("div",{className:l().summaryRow,children:[(0,e.jsxs)("span",{children:["Coupon Discount (",b.usedCouponCode,"):"]}),(0,e.jsxs)("span",{children:["- $",q.toFixed(2)]})]}),(0,e.jsxs)("div",{className:l().summaryRow,children:[(0,e.jsx)("span",{children:"Tax:"}),(0,e.jsxs)("span",{children:["$",o.toFixed(2)]})]}),(0,e.jsxs)("div",{className:l().summaryRow,children:[(0,e.jsx)("span",{children:"Shipping:"}),(0,e.jsxs)("span",{children:["$",p.toFixed(2)]})]}),(0,e.jsxs)("div",{className:`${l().summaryRow} ${l().total}`,children:[(0,e.jsx)("span",{children:"Total:"}),(0,e.jsxs)("span",{children:["$",r.toFixed(2)]})]}),(0,e.jsx)("h3",{children:"Items:"}),(0,e.jsx)("ul",{className:l().itemsList,children:b.items?.map((a,b)=>(0,e.jsxs)("li",{children:[a.title," - ",a.quantity," \xd7 $",a.price?.toFixed(2),a.extras?.length>0&&(0,e.jsxs)("span",{children:[" (Extras: ",a.extras.map(a=>a.text).join(", "),")"]})]},a.productId||b))}),(0,e.jsx)("h3",{children:"Delivery Info:"}),(0,e.jsxs)("div",{className:l().deliveryInfo,children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Date:"})," ",s]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Time Slot:"})," ",t]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Status:"})," ",b.deliveryStatus??"Scheduled"]}),(0,e.jsxs)("p",{children:[b.customer?.address?.street,", ",b.customer?.address?.city,","," ",b.customer?.address?.state," ",b.customer?.address?.zip,","," ",b.customer?.address?.country]})]})]})]})}[h,i,j]=m.then?(await m)():m,d()}catch(a){d(a)}})},7910:a=>{"use strict";a.exports=require("stream")},8136:a=>{a.exports={wrapper:"LoadingSpinner_wrapper__H5N5p",ring:"LoadingSpinner_ring__xh1P9",ringImg:"LoadingSpinner_ringImg__bUgON",inner:"LoadingSpinner_inner__wyHgX",innerImg:"LoadingSpinner_innerImg__DK6h4",message:"LoadingSpinner_message__o_zuw"}},8732:a=>{"use strict";a.exports=require("react/jsx-runtime")},9021:a=>{"use strict";a.exports=require("fs")},9198:a=>{"use strict";a.exports=import("@reduxjs/toolkit")},9756:a=>{"use strict";a.exports=import("redux")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[6238,9765,3317,5781,6095],()=>b(b.s=4959));module.exports=c})();